<?php

namespace App\Http\Controllers;

use App\Address;
use App\Category;
use App\Http\Requests\RezervasyonRegisterRequest;
use App\Http\Requests\UserPaymentRequest;
use App\OrderItems;
use App\Rezervasyon;
use App\UserAddress;
use App\Users;
use Illuminate\Http\Request;

class FrontendController extends Controller
{
    public function home()
    {
        return view('frontend');
    }

    public function menu()
    {
        $result = [];
        $menu = Category::with(['menuItems', 'menuItems.option'])->orderBy('category.queue', 'ASC')->get();
        foreach ($menu as $data){
            $menuItem['id'] = $data['id'];
            $menuItem['name'] = $data['name'];
            $menuItem['position'] = $data['queue'];
            $menuItem['categoryImage'] = $data['img'];
            $items = [];
            foreach ($data->menuItems as $dataItem){
                $item = [];
                $item['id'] = $dataItem['id'];
                $item['name'] = $dataItem['name'];
                $item['position'] = $dataItem['queue'];
                $item['price'] = $dataItem['price'];
                $item['category_name'] = $data['name'];
                $item['quantity'] = 1;
                $item['options'] = $dataItem['option']['content'];
                $item['description'] = $dataItem['card_text'];
                $item['img'] = $dataItem['img'];
                $items[] = $item;
            }
            $menuItem['menuItems'] = $items ;
            $result[] = $menuItem;
        }
        return response()->json($result);
    }

    public function getAddress()
    {
        $address = Address::where('active', 1)->get();
        return response()->json($address);
    }

    public function registerRezervasyon(RezervasyonRegisterRequest $request)
    {
        $rezervasyon = Rezervasyon::create([
            'time' => time(),
            'name' => $request['name'],
            'e_mail' => $request['email'],
            'phone' => $request['phone'],
            'kisi_sayisi' => $request['attendents'],
            'message' => $request['message'],
            'ip' => $request->ip(),
            'rez_date' => $request['date']
        ]);

        return response('ok');
    }

    public function tasi()
    {
        $users = Users::all();

        foreach ($users as $key => $user){
            if($user->adress != null){
                $address = UserAddress::create([
                    'user_id' => $user->id,
                    'title' => $user->adress['title'],
                    'content' => $user->adress['content']
                ]);
            }
            if($user->adress_2 != null){
                $address = UserAddress::create([
                    'user_id' => $user->id,
                    'title' => $user->adress_2['title'],
                    'content' => $user->adress_2['content']
                ]);
            }
            if($user->adress_3 != null){
                $address = UserAddress::create([
                    'user_id' => $user->id,
                    'title' => $user->adress_3['title'],
                    'content' => $user->adress_3['content']
                ]);
            }
        }
    }

    public function addressKayit()
    {
        $adress = "<option value=\"1961b19a-dbc1-43a3-b6bd-3849809994a8\" data-url=\"/adana/a-turkes-blv-kiyiboyu-guneyi\">A. Türkeş Blv. (Kıyıboyu Güneyi)</option> <option value=\"8cdd2723-41b2-4c4f-9309-7a81ca14790a\" data-url=\"/adana/a-turkes-blv-kiyiboyu-mavi-blv-arasi\">A. Türkeş Blv. (Kıyıboyu-Mavi Blv. Arası)</option> <option value=\"ba546537-5146-49ac-b544-de874cd3dd5e\" data-url=\"/adana/a-turkes-blv-mavi-blv-kuzeyi\">A. Türkeş Blv. (Mavi Blv. Kuzeyi)</option> <option value=\"4659b05d-409a-49e9-97fa-0a1187b4d269\" data-url=\"/adana/adnan-kahveci-blv\">Adnan Kahveci Blv.</option> <option value=\"c467891f-f47a-49db-9adb-ee617cf1e380\" data-url=\"/adana/adnan-menderes-coban-dede-guneyi\">Adnan Menderes (Çoban Dede Güneyi) </option> <option value=\"3db336a9-ee55-4cc3-b17f-7905f8b01a23\" data-url=\"/adana/adnan-menderes-coban-dede-kuzeyi\">Adnan Menderes (Çoban Dede Kuzeyi)</option> <option value=\"3e6d2fa4-a051-4576-8189-93f3fd06e748\" data-url=\"/adana/bakimyurdu-cad\">Bakımyurdu Cad.</option> <option value=\"5211bb1a-ee54-4971-a2eb-2873f408fcd4\" data-url=\"/adana/barajyolu-hastaneler-kvs-guneyi\">Barajyolu (Hastaneler Kvş. Güneyi)</option> <option value=\"3b1136a0-aaf6-4f09-9a4d-c76c092a342d\" data-url=\"/adana/ceyhan-alti-ocak-mah\">Ceyhan (Altı Ocak Mah.)</option> <option value=\"ba4f6a1f-80cb-434f-b108-1d3a5d0c16f0\" data-url=\"/adana/ceyhan-aydemiroglu-mah\">Ceyhan (Aydemiroğlu Mah.)</option> <option value=\"9f97dcd5-6635-45cd-911c-53c2456db00c\" data-url=\"/adana/ceyhan-belediye-evleri-mah\">Ceyhan (Belediye Evleri Mah.)</option> <option value=\"8989e7b6-71c8-482d-9ca1-ac9c0143523c\" data-url=\"/adana/ceyhan-bota-mah\">Ceyhan (Bota Mah.)</option> <option value=\"414d9d1e-e6b0-4dec-9542-bfdaafe1d7bd\" data-url=\"/adana/ceyhan-burhaniye-mah\">Ceyhan (Burhaniye Mah.)</option> <option value=\"66c7cb2e-f1cc-40dc-a736-93e3ec697d85\" data-url=\"/adana/ceyhan-buyuk-kirim-mah\">Ceyhan (Büyük Kırım Mah.)</option> <option value=\"5844837a-338c-4f9d-9bbe-a7199b14cacf\" data-url=\"/adana/ceyhan-cumhuriyet-mah\">Ceyhan (Cumhuriyet Mah.)</option> <option value=\"b0cddb8f-84ad-4e8c-9f9f-31b850e30ed1\" data-url=\"/adana/ceyhan-emek-mah\">Ceyhan (Emek Mah.)</option> <option value=\"8bcad0a8-912c-41b0-888a-78e354a2ec0c\" data-url=\"/adana/ceyhan-esentepe-mah\">Ceyhan (Esentepe Mah.)</option> <option value=\"042c6b38-db15-4c1e-9658-70acef18264e\" data-url=\"/adana/ceyhan-fatih-sultan-mehmet-mah\">Ceyhan (Fatih Sultan Mehmet Mah.)</option> <option value=\"6a0b3db5-cae4-45a4-80fe-5ea9890a2e97\" data-url=\"/adana/ceyhan-gazi-osman-pasa-mah\">Ceyhan (Gazi Osman Paşa Mah.)</option> <option value=\"6289d9f0-da29-437a-852d-7f5314762998\" data-url=\"/adana/ceyhan-hurriyet-mah\">Ceyhan (Hürriyet Mah.)</option> <option value=\"9bc9296c-0d7a-47b3-8879-6c37ba345325\" data-url=\"/adana/ceyhan-inonu-mah\">Ceyhan (İnönü Mah.)</option> <option value=\"29c7bb03-d9ce-4367-8daf-79f0ad3303bc\" data-url=\"/adana/ceyhan-istiklal-mah\">Ceyhan (İstiklal Mah.)</option> <option value=\"be3a097f-146e-4538-b614-70ee844e449b\" data-url=\"/adana/ceyhan-kelemeti-mah\">Ceyhan (Kelemeti Mah.)</option> <option value=\"41fcdcc2-832d-4c73-852e-9af8dcd605e5\" data-url=\"/adana/ceyhan-konakoglu-mah\">Ceyhan (Konakoğlu Mah.)</option> <option value=\"d6c53d14-f646-436c-a931-6f86aca8342b\" data-url=\"/adana/ceyhan-kucuk-kirim-mah\">Ceyhan (Küçük Kırım Mah.)</option> <option value=\"167897d9-8c4c-491c-aabe-03fb051c51f2\" data-url=\"/adana/ceyhan-mithatpasa-mah\">Ceyhan (Mithatpaşa Mah.)</option> <option value=\"aa8899be-52c8-4f8d-a2fb-8404d4d5db2b\" data-url=\"/adana/ceyhan-modernevler-mah\">Ceyhan (Modernevler Mah.)</option> <option value=\"17761368-df31-4843-8294-138a71679f05\" data-url=\"/adana/ceyhan-muradiye-mah\">Ceyhan (Muradiye Mah.)</option> <option value=\"51f94c77-9db5-4d3d-9092-f16afcd6c67d\" data-url=\"/adana/ceyhan-namik-kemal-mah\">Ceyhan (Namık Kemal Mah.)</option> <option value=\"970d5e02-9ccd-40e3-b842-b4d29541226b\" data-url=\"/adana/ceyhan-sarisakal-mah\">Ceyhan (Sarısakal Mah.)</option> <option value=\"f4f180f4-0da0-4b94-a794-0399547e7621\" data-url=\"/adana/ceyhan-sahin-ozbilen-mah\">Ceyhan (Şahin Özbilen Mah.)</option> <option value=\"6ba61ff9-a63c-455f-a805-422b615ee8fb\" data-url=\"/adana/ceyhan-ulus-mah\">Ceyhan (Ulus Mah.)</option> <option value=\"c1b23991-9c26-4beb-9f0b-eaa5b1e8d08c\" data-url=\"/adana/cukurova-belediyeevleri-mah-turkmenbasi-blv\">Çukurova (Belediyeevleri Mah. - Türkmenbaşı Blv.)</option> <option value=\"870bea72-b16f-4057-8017-77d048c1aeec\" data-url=\"/adana/cukurova-belediyeevleri-mah\">Çukurova (Belediyeevleri Mah.)</option> <option value=\"2495fde0-2c55-4b45-9b21-9c67dd4b364b\" data-url=\"/adana/cukurova-beyazevler-mah\">Çukurova (Beyazevler Mah.)</option> <option value=\"b3cc8319-91f4-46e9-82ef-209e8369c399\" data-url=\"/adana/cukurova-esentepe-mah\">Çukurova (Esentepe Mah.)</option> <option value=\"34dade7c-2d02-4a32-983c-2da8d3341bf0\" data-url=\"/adana/cukurova-guzelyali-mah-suleyman-demirel-blv\">Çukurova (Güzelyalı Mah. - Süleyman Demirel Blv.)</option> <option value=\"2ada353b-2250-4a20-8db9-80b5ac326a3e\" data-url=\"/adana/cukurova-guzelyali-mah-turgut-ozal-blv\">Çukurova (Güzelyalı Mah. - Turgut Özal Blv.)</option> <option value=\"47cdc4d5-798a-45e6-9489-52059abed10d\" data-url=\"/adana/cukurova-guzelyali-mah-ugur-mumcu-blv\">Çukurova (Güzelyalı Mah. - Uğur Mumcu Blv.)</option> <option value=\"ded450d6-9ccd-42ce-a29d-3b360ef6c9e9\" data-url=\"/adana/cukurova-guzelyali-mah\">Çukurova (Güzelyalı Mah.)</option> <option value=\"3571f063-d2d6-43dd-a24d-a36b36d55788\" data-url=\"/adana/cukurova-huzurevleri-mah-turkmenbasi-blv\">Çukurova (Huzurevleri Mah. - Türkmenbaşı Blv.)</option> <option value=\"09c6f12a-7bb4-4256-bbb8-f2a58df704b8\" data-url=\"/adana/cukurova-huzurevleri-mah\">Çukurova (Huzurevleri Mah.)</option> <option value=\"88f3aba1-81b3-41ad-9576-9f6dada3536d\" data-url=\"/adana/cukurova-kabasakal-mah-semiramiskoy-villalari\">Çukurova (Kabasakal Mah. - Semiramisköy Villaları)</option> <option value=\"db0c4c10-b4cb-43ab-a697-7391e7e81cbf\" data-url=\"/adana/cukurova-kabasakal-mah\">Çukurova (Kabasakal Mah.)</option> <option value=\"c28fc735-2d56-426c-959c-367826cd7fa4\" data-url=\"/adana/cukurova-karslilar-mah\">Çukurova (Karslılar Mah.)</option> <option value=\"7c87e8b6-63e1-4e57-a188-7b222e1ad71f\" data-url=\"/adana/cukurova-kurttepe-mah-suleyman-demirel-blv\">Çukurova (Kurttepe Mah. - Süleyman Demirel Blv.)</option> <option value=\"73aa65f8-4437-4394-bb1c-07590c3fd6b7\" data-url=\"/adana/cukurova-kurttepe-mah\">Çukurova (Kurttepe Mah.)</option> <option value=\"7d8ee5d2-671c-4209-9027-0d80f60551f2\" data-url=\"/adana/cukurova-mahfesigmaz-mah-kenan-evren-blv\">Çukurova (Mahfesığmaz Mah. - Kenan Evren Blv.)</option> <option value=\"1a8c0d48-9639-4956-85e7-a5d74ed4a6ca\" data-url=\"/adana/cukurova-mahfesigmaz-mah-turgut-ozal-blv\">Çukurova (Mahfesığmaz Mah. - Turgut Özal Blv.)</option> <option value=\"51e04bfc-2f32-41b5-bd77-837be0a25e29\" data-url=\"/adana/cukurova-mahfesigmaz-mah\">Çukurova (Mahfesığmaz Mah.)</option> <option value=\"fc497592-baaf-43ca-a9fe-b4607bff7fe9\" data-url=\"/adana/cukurova-toros-mah-kenan-evren-blv\">Çukurova (Toros Mah. - Kenan Evren Blv.)</option> <option value=\"e0dab698-458e-466c-87d1-e38fbb2a64e3\" data-url=\"/adana/cukurova-toros-mah-turgut-ozal-blv\">Çukurova (Toros Mah. - Turgut Özal Blv.)</option> <option value=\"13adcdca-295f-492a-97fd-644e12e0603e\" data-url=\"/adana/cukurova-toros-mah\">Çukurova (Toros Mah.)</option> <option value=\"152e4337-96e2-4b1f-b64a-53c093d8eb62\" data-url=\"/adana/cukurova-yurt-mah-turgut-ozal-blv\">Çukurova (Yurt Mah. - Turgut Özal Blv.)</option> <option value=\"76d6ccf5-a89b-427f-b1b3-e274eba65763\" data-url=\"/adana/cukurova-yurt-mah\">Çukurova (Yurt Mah.)</option> <option value=\"2972127f-5ad0-4a12-aa64-a70341db8d28\" data-url=\"/adana/cukurova-yuzuncu-yil-mah\">Çukurova (Yüzüncü Yıl Mah.)</option> <option value=\"3c8e4a8c-fcb9-48c5-8768-653f4d45a478\" data-url=\"/adana/dr-sadik-ahmet-blv\">Dr. Sadık Ahmet Blv.</option> <option value=\"0250a87b-c040-48d6-91fd-6560ee13cedc\" data-url=\"/adana/fatih-mucahitler-cad\">Fatih (Mücahitler Cad.)</option> <option value=\"fe37a58f-ad9d-40bc-828a-3556225dc669\" data-url=\"/adana/gulek-plaza\">Gülek Plaza</option> <option value=\"c1639c40-c1ef-46a9-881b-364a13487e97\" data-url=\"/adana/kizilay-cad\">Kızılay Cad.</option> <option value=\"4dfcbc03-05ab-4b80-93b8-385d44ee585d\" data-url=\"/adana/kozan-aglibogaz-mah\">Kozan (Ağlıboğaz Mah.)</option> <option value=\"2424c21d-5bfb-4656-a27d-28fab685dff0\" data-url=\"/adana/kozan-arslanpasa-mah\">Kozan (Arslanpaşa Mah.)</option> <option value=\"bf95c2c8-ba29-4250-9bbc-abdb0c232def\" data-url=\"/adana/kozan-baglar-mah\">Kozan (Bağlar Mah.)</option> <option value=\"a7b4eb90-f633-446d-955f-94a5b41d68d8\" data-url=\"/adana/kozan-cumhuriyet-mah\">Kozan (Cumhuriyet Mah.)</option> <option value=\"c18e442d-3c04-48ef-8325-21dec7ba34b1\" data-url=\"/adana/kozan-canakli-mah\">Kozan (Çanaklı Mah.)</option> <option value=\"11f909a3-79c5-45be-8bf9-b1726a679e27\" data-url=\"/adana/kozan-guneri-mah\">Kozan (Güneri Mah.)</option> <option value=\"87a76706-0cc6-4ea5-bde3-a0353199b0c6\" data-url=\"/adana/kozan-haci-usagi-mah\">Kozan (Hacı Uşağı Mah.)</option> <option value=\"5b32d109-7521-4511-8a13-16b04721b1ea\" data-url=\"/adana/kozan-hacimirzali-mah\">Kozan (Hacımirzalı Mah.)</option> <option value=\"c9709a43-af1e-4351-910a-8b043bb9a3f7\" data-url=\"/adana/kozan-karacaoglan-mah\">Kozan (Karacaoğlan Mah.)</option> <option value=\"c3356cc0-77a7-4b95-b368-b26bd33627e8\" data-url=\"/adana/kozan-mahmutlu-mah\">Kozan (Mahmutlu Mah.)</option> <option value=\"a5b8a766-3256-4f85-8e0c-0fda8ff6ac53\" data-url=\"/adana/kozan-sevkiye-mah\">Kozan (Şevkiye Mah.)</option> <option value=\"51d74069-14a4-4079-aec2-27e8af3e7a66\" data-url=\"/adana/kozan-tas-mah\">Kozan (Taş Mah.)</option> <option value=\"027271a8-e97d-4261-a409-61aefbf3ba8b\" data-url=\"/adana/kozan-tavsantepe-mah\">Kozan (Tavşantepe Mah.)</option> <option value=\"bfe39b47-5778-4072-bb6c-9ee395044132\" data-url=\"/adana/kozan-tufanpasa-mah\">Kozan (Tufanpaşa Mah.)</option> <option value=\"51a7d54a-3d83-427f-bcb6-f702761d1574\" data-url=\"/adana/kozan-turkeli-mah\">Kozan (Türkeli Mah.)</option> <option value=\"cae11410-7676-4d18-80e4-33b1c97214e4\" data-url=\"/adana/kozan-varsaklar-mah\">Kozan (Varsaklar Mah.)</option> <option value=\"750cfd2e-02ab-4d2a-ab20-9fc556ce3051\" data-url=\"/adana/kozan-yarimoglu-mah\">Kozan (Yarımoğlu Mah.)</option> <option value=\"51d9358b-a262-4a88-9a40-e2cf9369a72f\" data-url=\"/adana/kurtulus-cad\">Kurtuluş Cad.</option> <option value=\"9cf77833-1139-465a-b8ee-8f12b102ccb2\" data-url=\"/adana/m-kemal-pasa-blv-seyhan\">M. Kemal Paşa Blv. (Seyhan)</option> <option value=\"171bc3dd-0e06-4754-a2e2-c608292da454\" data-url=\"/adana/mavi-blv-cetinkaya-kvs-batisi\">Mavi Blv. (Çetinkaya Kvş. Batısı)</option> <option value=\"baa3b40c-9acb-47e6-9ca6-7dcf5bdf3303\" data-url=\"/adana/mavi-blv-cetinkaya-kvs-dogusu\">Mavi Blv. (Çetinkaya Kvş. Doğusu)</option> <option value=\"bf094f55-65ae-4042-9381-86a13da32dc6\" data-url=\"/adana/namik-kemal-mucahitler-cad\">Namık Kemal (Mücahitler Cad.)</option> <option value=\"0a5e8fb9-bb4b-46a3-9f96-47ca6a34679b\" data-url=\"/adana/pazarlar-cad\">Pazarlar Cad.</option> <option value=\"9c57ddd3-caae-47f4-ae9b-527361aa0d0a\" data-url=\"/adana/saricam-balcali-mah\">Sarıçam (Balcalı Mah.)</option> <option value=\"3dfc6824-9b87-4b40-8eb1-c82e356c3ceb\" data-url=\"/adana/saricam-carkipare-mah\">Sarıçam (Çarkıpare Mah.)</option> <option value=\"05d150d1-bdcc-4148-94f8-64ef330db53f\" data-url=\"/adana/saricam-esentepe-mah\">Sarıçam (Esentepe Mah.)</option> <option value=\"3fa7ea58-1353-4f0f-8d79-4bc0cbcc6eed\" data-url=\"/adana/saricam-gultepe-mah\">Sarıçam (Gültepe Mah.)</option> <option value=\"8252cb7b-510c-4876-ad50-63ba3021439c\" data-url=\"/adana/saricam-haci-sabanci-osb\">Sarıçam (Hacı Sabancı OSB)</option> <option value=\"c75ae342-1f24-4a33-aa09-14909ef2baac\" data-url=\"/adana/saricam-hurriyet-mah-incirlik-hava-ussu\">Sarıçam (Hürriyet Mah. - İncirlik Hava Üssü)</option> <option value=\"fb988d2c-8549-4626-ac6d-a08865d4669e\" data-url=\"/adana/saricam-mehmet-akif-ersoy-mah\">Sarıçam (Mehmet Akif Ersoy Mah.)</option> <option value=\"ad32fa15-de68-4232-adab-90acbf5088d6\" data-url=\"/adana/saricam-orhangazi-mah\">Sarıçam (Orhangazi Mah.)</option> <option value=\"3fcf1160-cb35-4ce3-bd7e-e92b830fc3ae\" data-url=\"/adana/saricam-osmangazi-mah\">Sarıçam (Osmangazi Mah.)</option> <option value=\"11c8b61f-553d-47a1-81e2-958da5cce0d7\" data-url=\"/adana/saricam-remzi-oguz-arik-mah\">Sarıçam (Remzi Oğuz Arık Mah.)</option> <option value=\"ae54622c-8cd4-4453-99e1-3ed916773fec\" data-url=\"/adana/saricam-saricam-mah\">Sarıçam (Sarıçam Mah.)</option> <option value=\"d405c128-2a87-4fdb-b0e5-52b25cb367c1\" data-url=\"/adana/saricam-sofudede-mah\">Sarıçam (Sofudede Mah.)</option> <option value=\"f877c0cd-d79e-4f5a-a8b0-f4e53e9c7efe\" data-url=\"/adana/saricam-sahintepe-mah\">Sarıçam (Şahintepe Mah.)</option> <option value=\"c0a681e9-4b4b-4e67-b60a-8f68eacbba62\" data-url=\"/adana/saricam-yavuz-sultan-selim-mah\">Sarıçam (Yavuz Sultan Selim Mah.)</option> <option value=\"75cca4a4-5ba5-4624-b39e-f347b1cc6453\" data-url=\"/adana/saricam-yesiltepe-mah\">Sarıçam (Yeşiltepe Mah.)</option> <option value=\"8f641788-cfd3-4a8f-99cb-2e0da8c16881\" data-url=\"/adana/saricam-yildirim-beyazit-mah\">Sarıçam (Yıldırım Beyazıt Mah.)</option> <option value=\"ca6c890a-df58-4a32-8e71-ef96604d563f\" data-url=\"/adana/seyhan-ahmet-remzi-yuregir-mah\">Seyhan (Ahmet Remzi Yüreğir Mah.)</option> <option value=\"a9e9ffdd-9df4-4dc7-9571-4872c741fc2b\" data-url=\"/adana/seyhan-akkapi-mah\">Seyhan (Akkapı Mah.)</option> <option value=\"819d06e1-098e-46d3-9db6-c95d37fabea9\" data-url=\"/adana/seyhan-alidede-mah\">Seyhan (Alidede Mah.)</option> <option value=\"9b0c2c20-33a1-401b-8d80-452d6ab2a802\" data-url=\"/adana/seyhan-aydinlar-mah\">Seyhan (Aydınlar Mah.)</option> <option value=\"32a98f13-4bc4-4960-9c69-96e94a065e78\" data-url=\"/adana/seyhan-bahcelievler-mah\">Seyhan (Bahçelievler Mah.)</option> <option value=\"bb1018f4-9107-44ff-a016-96adbd28a7ee\" data-url=\"/adana/seyhan-bahcesehir-mah\">Seyhan (Bahçeşehir Mah.)</option> <option value=\"4fdf4b0b-f20a-4441-b050-ec2b16d8138f\" data-url=\"/adana/seyhan-barbaros-mah\">Seyhan (Barbaros Mah.)</option> <option value=\"f1e6a145-eb90-423b-b0c2-8225b00d117e\" data-url=\"/adana/seyhan-baris-mah\">Seyhan (Barış Mah.)</option> <option value=\"cd41837e-af1c-499e-be8f-3dbe04ae113e\" data-url=\"/adana/seyhan-besocak-mah\">Seyhan (Beşocak Mah.)</option> <option value=\"294c4332-12ac-474d-bd4e-48aa65d0bf1f\" data-url=\"/adana/seyhan-bey-mah\">Seyhan (Bey Mah.)</option> <option value=\"47361a6f-dc94-489e-a1b1-c6517a1df938\" data-url=\"/adana/seyhan-cemalpasa-mah-ataturk-cad\">Seyhan (Cemalpaşa Mah. - Atatürk Cad.)</option> <option value=\"9b96e431-4d7e-4281-a35b-286bf1664679\" data-url=\"/adana/seyhan-cemalpasa-mah-galleria\">Seyhan (Cemalpaşa Mah. - Galleria)</option> <option value=\"78b1a807-cf82-4287-85ca-b0ea8c0f2aa0\" data-url=\"/adana/seyhan-cemalpasa-mah-gazipasa-blv\">Seyhan (Cemalpaşa Mah. - Gazipaşa Blv.)</option> <option value=\"aa7d3588-4a4a-4a8b-b1f9-2d67c02694f9\" data-url=\"/adana/seyhan-cemalpasa-mah-sular-mevkii\">Seyhan (Cemalpaşa Mah. - Sular Mevkii)</option> <option value=\"afc318a5-6489-433d-930a-60dfde7c6db4\" data-url=\"/adana/seyhan-cemalpasa-mah\">Seyhan (Cemalpaşa Mah.)</option> <option value=\"3876a430-7759-4e04-849b-5d0014a12f30\" data-url=\"/adana/seyhan-cinarli-mah\">Seyhan (Çınarlı Mah.)</option> <option value=\"36ce1888-d89f-4836-be4c-ae0c15fd7c04\" data-url=\"/adana/seyhan-daglioglu-mah-guney-yildizi-kompleksi\">Seyhan (Dağlıoğlu Mah. - Güney Yıldızı Kompleksi)</option> <option value=\"b37002c2-7910-420e-9053-a7fb35af3501\" data-url=\"/adana/seyhan-daglioglu-mah\">Seyhan (Dağlıoğlu Mah.)</option> <option value=\"b5bafe1f-2cff-47b1-b7ea-7bb4b8d08c98\" data-url=\"/adana/seyhan-demetevler-mah\">Seyhan (Demetevler Mah.)</option> <option value=\"72aadf39-7828-4c08-832b-71ac248f6b5c\" data-url=\"/adana/seyhan-denizli-mah\">Seyhan (Denizli Mah.)</option> <option value=\"9d1f9969-ce25-4798-a4a4-60b2a01d397c\" data-url=\"/adana/seyhan-doseme-mah\">Seyhan (Döşeme Mah.)</option> <option value=\"7ae035c4-6e59-46a1-9b06-3ae648678236\" data-url=\"/adana/seyhan-dumlupinar-mah\">Seyhan (Dumlupınar Mah.)</option> <option value=\"0b769e90-4328-486d-b7cf-684dc9b09c9f\" data-url=\"/adana/seyhan-emek-mah\">Seyhan (Emek Mah.)</option> <option value=\"4317545a-f8ec-4901-9504-b76b75f2e2b2\" data-url=\"/adana/seyhan-fatih-mah\">Seyhan (Fatih Mah.)</option> <option value=\"536ee1d2-29e9-46dd-b03f-10550b657460\" data-url=\"/adana/seyhan-fevzipasa-mah\">Seyhan (Fevzipaşa Mah.)</option> <option value=\"67df5b32-64eb-4042-a752-3e98fe13e55f\" data-url=\"/adana/seyhan-gazipasa-mah\">Seyhan (Gazipaşa Mah.)</option> <option value=\"3c8bdaf8-c466-4b25-97b2-2f7b63468c70\" data-url=\"/adana/seyhan-gulpinar-mah\">Seyhan (Gülpınar Mah.)</option> <option value=\"46f8626c-40ce-49ce-a246-10d3a4fd46b3\" data-url=\"/adana/seyhan-gurselpasa-mah\">Seyhan (Gürselpaşa Mah.)</option> <option value=\"8f1d81ea-e36c-4153-af8a-94d7b7613f93\" data-url=\"/adana/seyhan-hanedan-mah\">Seyhan (Hanedan Mah.)</option> <option value=\"6a45157c-03cf-4d60-8fcd-b2dcf7128417\" data-url=\"/adana/seyhan-havuzlubahce-mah\">Seyhan (Havuzlubahçe Mah.)</option> <option value=\"2cdc1b05-acb6-47b2-ae38-ed672488d413\" data-url=\"/adana/seyhan-hurmali-mah\">Seyhan (Hurmalı Mah.)</option> <option value=\"edc22650-ec46-4995-91da-63cdf373de41\" data-url=\"/adana/seyhan-hurriyet-mah\">Seyhan (Hürriyet Mah.)</option> <option value=\"c7bea3cc-7e57-4d0f-88b3-355f481a76b9\" data-url=\"/adana/seyhan-ikibinevler-mah\">Seyhan (İkibinevler Mah.)</option> <option value=\"b5399143-5e51-4e47-9eb0-4aabc98394c7\" data-url=\"/adana/seyhan-ismetpasa-mah\">Seyhan (İsmetpaşa Mah.)</option> <option value=\"bc917632-5bde-44b7-b082-ccee0f49272c\" data-url=\"/adana/seyhan-istiklal-mah\">Seyhan (İstiklal Mah.)</option> <option value=\"63bb4389-7d98-4886-b95f-ea538e0010db\" data-url=\"/adana/seyhan-karasoku-mah\">Seyhan (Karasoku Mah.)</option> <option value=\"2c052ee0-fccd-493d-9c91-b0aec2687197\" data-url=\"/adana/seyhan-kayalibag-mah\">Seyhan (Kayalıbağ Mah.)</option> <option value=\"a2c0b2f2-c61f-42fa-a305-d3c619b92761\" data-url=\"/adana/seyhan-kocavezir-mah\">Seyhan (Kocavezir Mah.)</option> <option value=\"19fb905c-71c6-4b3b-9b06-14f2613ca4b3\" data-url=\"/adana/seyhan-kurtulus-mah-ataturk-cad\">Seyhan (Kurtuluş Mah. - Atatürk Cad.)</option> <option value=\"88d4f135-b3fe-41e2-932b-7d5e5a5a45a2\" data-url=\"/adana/seyhan-kurtulus-mah-ziyapasa-blv\">Seyhan (Kurtuluş Mah. - Ziyapaşa Blv.)</option> <option value=\"197d585c-9fba-4ee0-bded-e1b914f98bbc\" data-url=\"/adana/seyhan-kurtulus-mah\">Seyhan (Kurtuluş Mah.)</option> <option value=\"931bf08e-b05c-49e1-be6f-c77a18146eef\" data-url=\"/adana/seyhan-kurukopru-mah-kucuksaat\">Seyhan (Kuruköprü Mah. - Küçüksaat)</option> <option value=\"dc23ea34-eaa1-49cc-aa90-fb4ffbd72d58\" data-url=\"/adana/seyhan-kurukopru-mah\">Seyhan (Kuruköprü Mah.)</option> <option value=\"d58c8a88-410d-42e5-91de-d89f18619b78\" data-url=\"/adana/seyhan-mestanzade-mah\">Seyhan (Mestanzade Mah.)</option> <option value=\"3a610c90-3cd0-4b82-8580-53efcaf86652\" data-url=\"/adana/seyhan-meydan-mah\">Seyhan (Meydan Mah.)</option> <option value=\"9465623b-4e21-4701-9bd2-d7437c44929b\" data-url=\"/adana/seyhan-midik-mah\">Seyhan (Mıdık Mah.)</option> <option value=\"16ab9317-6eb5-4038-af65-78311f9ddbc3\" data-url=\"/adana/seyhan-mirzacelebi-mah\">Seyhan (Mirzaçelebi Mah.)</option> <option value=\"609608e9-b540-4f96-a38b-fcd1c53d589f\" data-url=\"/adana/seyhan-mithatpasa-mah\">Seyhan (Mithatpaşa Mah.)</option> <option value=\"db87949e-ec81-4640-9488-ce9bd4e68c87\" data-url=\"/adana/seyhan-namik-kemal-mah\">Seyhan (Namık Kemal Mah.)</option> <option value=\"a7225485-067d-48c6-8b7f-9e8e6b1fdeaf\" data-url=\"/adana/seyhan-narlica-mah\">Seyhan (Narlıca Mah.)</option> <option value=\"3074fac9-9307-4668-a64b-66b66e8db97b\" data-url=\"/adana/seyhan-onur-mah\">Seyhan (Onur Mah.)</option> <option value=\"fd7f615e-8585-489c-91b7-0c198916a494\" data-url=\"/adana/seyhan-ova-mah\">Seyhan (Ova Mah.)</option> <option value=\"fc38141e-34a3-45dc-a1db-32acd993730e\" data-url=\"/adana/seyhan-pinar-mah\">Seyhan (Pınar Mah.)</option> <option value=\"13044e1d-89ca-4df6-a904-de8788534d33\" data-url=\"/adana/seyhan-resatbey-mah\">Seyhan (Reşatbey Mah.)</option> <option value=\"ec7233c4-dfed-4f6d-b707-90bbd24550c3\" data-url=\"/adana/seyhan-sakarya-mah\">Seyhan (Sakarya Mah.)</option> <option value=\"ce089466-8e33-4e50-b338-a814aa5095c4\" data-url=\"/adana/seyhan-sarihuglar-mah\">Seyhan (Sarıhuğlar Mah.)</option> <option value=\"f62dc76a-278a-4069-9574-632b6230358f\" data-url=\"/adana/seyhan-sariyakup-mah\">Seyhan (Sarıyakup Mah.)</option> <option value=\"e412a7fe-5444-4a09-a788-01ad412c762a\" data-url=\"/adana/seyhan-sucuzade-mah\">Seyhan (Sucuzade Mah.)</option> <option value=\"5851e43c-ffa4-4707-b696-d3f866b8b5a8\" data-url=\"/adana/seyhan-sumer-mah-barajyolu\">Seyhan (Sümer Mah. - Barajyolu)</option> <option value=\"90ff51d1-4093-41a1-bfe6-07d13769fc96\" data-url=\"/adana/seyhan-sumer-mah-karafatma-cad\">Seyhan (Sümer Mah. - Karafatma Cad.)</option> <option value=\"0f92a928-deeb-40d5-b3a1-25759ffc4552\" data-url=\"/adana/seyhan-sumer-mah\">Seyhan (Sümer Mah.)</option> <option value=\"579992d1-a5ec-463b-a81e-20caf4bd04a7\" data-url=\"/adana/seyhan-sakirpasa-mah-hava-limani\">Seyhan (Şakirpaşa Mah. - Hava Limanı)</option> <option value=\"a2096995-3757-425a-9c3b-8d3ff677c413\" data-url=\"/adana/seyhan-sakirpasa-mah\">Seyhan (Şakirpaşa Mah.)</option> <option value=\"f85cea2b-67bf-4e76-86aa-b008ca07ecf3\" data-url=\"/adana/seyhan-sehitduran-mah\">Seyhan (Şehitduran Mah.)</option> <option value=\"946565bd-59cd-4fed-8b70-48c9201b37fc\" data-url=\"/adana/seyhan-tellidere-mah\">Seyhan (Tellidere Mah.)</option> <option value=\"1d6d4f9c-f5e8-45de-8976-b8213314eb61\" data-url=\"/adana/seyhan-tepebag-mah-cakmak-cad\">Seyhan (Tepebağ Mah. - Çakmak Cad.)</option> <option value=\"1c509780-c0c3-49e3-85f7-6cf5713d7e51\" data-url=\"/adana/seyhan-tepebag-mah\">Seyhan (Tepebağ Mah.)</option> <option value=\"ab252187-e62c-4de2-b4a4-08039e4b00e7\" data-url=\"/adana/seyhan-turkocagi-mah\">Seyhan (Türkocağı Mah.)</option> <option value=\"b312e242-fa2f-4788-8b1e-d0f2dd2144b4\" data-url=\"/adana/seyhan-ucak-mah\">Seyhan (Uçak Mah.)</option> <option value=\"c642f466-d996-4461-899c-83ed3cdbb3e3\" data-url=\"/adana/seyhan-ulucami-mah-buyuksaat\">Seyhan (Ulucami Mah. - Büyüksaat)</option> <option value=\"60d97518-a8ce-4df7-9665-80b1e442a2cf\" data-url=\"/adana/seyhan-ulucami-mah\">Seyhan (Ulucami Mah.)</option> <option value=\"c3aeb771-548d-48bd-85b8-b962b3183e78\" data-url=\"/adana/seyhan-yeni-baraj-mah-hastaneler\">Seyhan (Yeni Baraj Mah. - Hastaneler)</option> <option value=\"5f46c850-5f78-42b3-a9d1-36f63ffdfafc\" data-url=\"/adana/seyhan-yeni-baraj-mah\">Seyhan (Yeni Baraj Mah.)</option> <option value=\"95d05940-7e47-4e80-85e3-1faf8c4e2ee1\" data-url=\"/adana/seyhan-yeni-mah-m1-avm\">Seyhan (Yeni Mah. - M1 Avm)</option> <option value=\"3b03c637-6511-4d35-adad-23d1bed07ae8\" data-url=\"/adana/seyhan-yeni-mah\">Seyhan (Yeni Mah.)</option> <option value=\"05f88f39-a371-4833-9f75-f60edbe98350\" data-url=\"/adana/seyhan-yenibaraj-mah-barajyolu\">Seyhan (Yenibaraj Mah. - Barajyolu)</option> <option value=\"b779ef76-d250-4cb4-ae6a-3de0eed04b97\" data-url=\"/adana/seyhan-yenibey-mah\">Seyhan (Yenibey Mah.)</option> <option value=\"2448b281-93d9-4a9f-8772-c3d2dd742fdc\" data-url=\"/adana/seyhan-yesilevler-mah\">Seyhan (Yeşilevler Mah.)</option> <option value=\"97b4cc91-fe22-4eac-913c-68acd7a38e39\" data-url=\"/adana/seyhan-yesiloba-mah\">Seyhan (Yeşiloba Mah.)</option> <option value=\"a170857b-2446-4055-a725-bdea500c1a09\" data-url=\"/adana/seyhan-yesilyurt-mah-abdi-ipekci-cad\">Seyhan (Yeşilyurt Mah. - Abdi İpekçi Cad.)</option> <option value=\"f4d96523-4a12-4099-a84a-3da6df36d940\" data-url=\"/adana/seyhan-yesilyurt-mah-ibo-osman-cad\">Seyhan (Yeşilyurt Mah. - İbo Osman Cad.)</option> <option value=\"609ec96b-c58b-4372-9775-141d4d7d23a0\" data-url=\"/adana/seyhan-yesilyurt-mah-karaafat-cad\">Seyhan (Yeşilyurt Mah. - Karaafat Cad.)</option> <option value=\"9ec4542f-46e8-4439-b72f-2c72fe227396\" data-url=\"/adana/seyhan-yesilyurt-mah\">Seyhan (Yeşilyurt Mah.)</option> <option value=\"d37a6272-4f05-4188-9724-1aa4a0c3de77\" data-url=\"/adana/seyhan-yesilyuva-mah\">Seyhan (Yeşilyuva Mah.)</option> <option value=\"d2ae2740-697f-4993-bcae-a53043f9fb96\" data-url=\"/adana/seyhan-ziyapasa-mah\">Seyhan (Ziyapaşa Mah.)</option> <option value=\"622cb3b1-b348-47da-adea-1a1d386ba0f4\" data-url=\"/adana/tellidere-mucahitler-cad\">Tellidere (Mücahitler Cad.)</option> <option value=\"84f90ad0-6a58-4237-a47b-b6fbf36917a8\" data-url=\"/adana/yuregir-akdeniz-mah\">Yüreğir (Akdeniz Mah.)</option> <option value=\"b771d01c-e1dc-405f-bcc0-03fa30b0f448\" data-url=\"/adana/yuregir-akincilar-mah\">Yüreğir (Akıncılar Mah.)</option> <option value=\"7e2c6f01-f8c6-425d-8a3d-c7b8c597c282\" data-url=\"/adana/yuregir-atakent-mah\">Yüreğir (Atakent Mah.)</option> <option value=\"b1e95619-2d8d-4739-8e99-edb180f41837\" data-url=\"/adana/yuregir-bahcelievler-mah\">Yüreğir (Bahçelievler Mah.)</option> <option value=\"a6c94b3c-611e-4c57-8c46-c5ce77455668\" data-url=\"/adana/yuregir-basak-mah\">Yüreğir (Başak Mah.)</option> <option value=\"c22f42b9-0007-4811-b21f-7cee271c4187\" data-url=\"/adana/yuregir-cumhuriyet-mah\">Yüreğir (Cumhuriyet Mah.)</option> <option value=\"7a345ca2-9eeb-4f90-b3e8-44de1fc596bd\" data-url=\"/adana/yuregir-camlibel-mah\">Yüreğir (Çamlıbel Mah.)</option> <option value=\"21f6e838-f7b7-4898-8418-ca214f786839\" data-url=\"/adana/yuregir-dadaloglu-mah\">Yüreğir (Dadaloğlu Mah.)</option> <option value=\"c7c2345f-111f-4939-961e-07af01210675\" data-url=\"/adana/yuregir-dede-korkut-mah\">Yüreğir (Dede Korkut Mah.)</option> <option value=\"a8b0107a-e080-4298-a9b1-0bd0813bae2c\" data-url=\"/adana/yuregir-dervisler-mah\">Yüreğir (Dervişler Mah.)</option> <option value=\"d451ce70-b5e6-42d7-be9a-c81aca663509\" data-url=\"/adana/yuregir-haydaroglu-mah\">Yüreğir (Haydaroğlu Mah.)</option> <option value=\"66e2c266-050c-41b8-a56b-39f8d8a59d39\" data-url=\"/adana/yuregir-karacaoglan-mah\">Yüreğir (Karacaoğlan Mah.)</option> <option value=\"3b5174ef-5371-4302-80a4-f0db5df0413c\" data-url=\"/adana/yuregir-kazim-karabekir-mah\">Yüreğir (Kazım Karabekir Mah.)</option> <option value=\"0f0fd12e-a823-4386-a868-34526d5d6d68\" data-url=\"/adana/yuregir-kisla-mah\">Yüreğir (Kışla Mah.)</option> <option value=\"4ff6470e-9cae-4902-9d05-95564ec13b25\" data-url=\"/adana/yuregir-kiremithane-mah\">Yüreğir (Kiremithane Mah.)</option> <option value=\"2b3b6e7b-9775-4ae3-9299-e5c0823e341c\" data-url=\"/adana/yuregir-koprulu-mah\">Yüreğir (Köprülü Mah.)</option> <option value=\"ee937193-e1fc-4ec4-b190-b97385c94f96\" data-url=\"/adana/yuregir-levent-mah\">Yüreğir (Levent Mah.)</option> <option value=\"3ce865aa-febf-409f-af9f-0b2722657a85\" data-url=\"/adana/yuregir-mutlu-mah\">Yüreğir (Mutlu Mah.)</option> <option value=\"f0963f9e-064f-409a-98bf-ef47f047dd38\" data-url=\"/adana/yuregir-ozgur-mah\">Yüreğir (Özgür Mah.)</option> <option value=\"7daa3dcb-2cfd-4ef0-8c4f-bfeb9b460a8c\" data-url=\"/adana/yuregir-ptt-evleri-mah\">Yüreğir (Ptt Evleri Mah.)</option> <option value=\"761e7142-859f-4b41-a73a-bf22691e3d4c\" data-url=\"/adana/yuregir-saricam-mah\">Yüreğir (Sarıçam Mah.)</option> <option value=\"5f14d764-13da-4cde-9c15-b4825571339e\" data-url=\"/adana/yuregir-selahattin-eyyubi-mah\">Yüreğir (Selahattin Eyyubi Mah.)</option> <option value=\"933e64d8-acfb-4766-a22d-c340edce3744\" data-url=\"/adana/yuregir-serinevler-mah\">Yüreğir (Serinevler Mah.)</option> <option value=\"33c75b0c-cb7b-4d71-ae31-570117e46202\" data-url=\"/adana/yuregir-seyhan-mah\">Yüreğir (Seyhan Mah.)</option> <option value=\"74aa8f0d-7198-425a-a7f1-07849f148b67\" data-url=\"/adana/yuregir-sinanpasa-mah\">Yüreğir (Sinanpaşa Mah.)</option> <option value=\"d372fcb9-74af-4d96-9f79-d5694ad20d42\" data-url=\"/adana/yuregir-sehit-erkut-akbay-mah\">Yüreğir (Şehit Erkut Akbay Mah.)</option> <option value=\"1dc7248f-51fb-41c9-9c12-8db70c2f3127\" data-url=\"/adana/yuregir-tahsilli-mah\">Yüreğir (Tahsilli Mah.)</option> <option value=\"e691694a-82bb-4441-988e-54de09250adb\" data-url=\"/adana/yuregir-ulubatli-hasan-mah\">Yüreğir (Ulubatlı Hasan Mah.)</option> <option value=\"85d6ac22-9ac8-4b82-a41b-1b6da6f11dd2\" data-url=\"/adana/yuregir-yamacli-mah\">Yüreğir (Yamaçlı Mah.)</option> <option value=\"85265d4b-7d7e-4974-a58a-254938eb2af0\" data-url=\"/adana/yuregir-yavuzlar-mah\">Yüreğir (Yavuzlar Mah.)</option> <option value=\"0abc7722-48f9-49df-a187-a1671e95cc43\" data-url=\"/adana/yuregir-yenidogan-mah\">Yüreğir (Yenidoğan Mah.)</option> <option value=\"4d68ad21-d82d-4a0e-89a9-12f1096422f6\" data-url=\"/tr/RestaurantAreaList/Index/ADANA/4d68ad21-d82d-4a0e-89a9-12f1096422f6\">​Adana Bilim ve Teknoloji Üniversitesi - Gültepe Kampüsü</option> <option value=\"d02e5183-7e96-4fcf-8ec5-b2634e14a4b4\" data-url=\"/tr/RestaurantAreaList/Index/ADANA/d02e5183-7e96-4fcf-8ec5-b2634e14a4b4\">Başkent Üniversitesi - Kışla Sağlık Kampüsü</option> <option value=\"755a43b4-8003-4713-99a9-91a08b4192fe\" data-url=\"/tr/RestaurantAreaList/Index/ADANA/755a43b4-8003-4713-99a9-91a08b4192fe\">Çukurova Üniversitesi - Balcalı Kampüsü</option> <option value=\"0073f811-3e43-408e-bfd8-a29dce8a03ff\" data-url=\"/tr/RestaurantAreaList/Index/ADANA/0073f811-3e43-408e-bfd8-a29dce8a03ff\">Çukurova Üniversitesi - Turizm İşletmeciliği &amp; Otelcilik Y.O.</option>";

        $data = [];

        for ($a = 0 ; $a < strlen($adress); $a++){
            $string = '';
            if($adress[$a] == '"' && $adress[$a+1] == ">"){
                for ($b = $a+2 ; $b < strlen($adress); $b++){
                    if($adress[$b] == '<' && $adress[$b+1] ='/'){
                        break;
                    }
                    $string .= $adress[$b];
                }
            }
            if($string != ''){
                $data[] = $string;
            }
        }

        foreach ($data as $key => $value){
            if($value != ''){
                $ad = Address::create([
                    'name' => $value
                ]);
            }
        }
        return response()->json($data);
    }

    public function payment(UserPaymentRequest $request)
    {
        //odeme yontemi tipi
        //0 = kapida odeme
        //1= kartla kapida odeme
        //2 = kredi karti ile odeme
        $paymentType = [0, 1, 2];
        if(!in_array($request['picked'], $paymentType)){
            return response('odeme tıpı belırt');
        }
        $orderData = [];
        if(isset($request['adress'])){
            $orderData['adress'] = $request['adress'];
        }
        if(isset($request['cardNumber']) && isset($request['cvv']) && isset($request['month']) && isset($request['year']) && isset($request['name'])){
            //return response()->json(['status' => 'Kart ile odeme aktif degil']);
        }
        if(isset($request['content'])){
            $orderData['icerik'] = $request['content'];
        }

        $orderData['m_status'] = 0;
        $orderData['address_id'] = $request['adress'];
        $orderData['user_id'] = session('userId');
        $orderData['order_status'] = $request['picked'];
        $orderData['order_amount'] = session('cartTotal');
        $orderData['orders'] = json_encode(session('cart'));

        $orderData['ip'] = $request->ip();
        $orderData['m_date'] = time();
        $orders = OrderItems::create($orderData);

        session()->forget(['cart', 'cartTotal']);
        session()->push('cart', []);
        session()->push('cartTotal', 0);

        return response()->json([
            'status' => true,
            'code' => $orders->order_id
        ]);
    }
}
